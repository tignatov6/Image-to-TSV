# Image-to-TSV: –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö

–ü—Ä–æ–µ–∫—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è end-to-end –º–æ–¥–µ–ª–∏, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é —Ç–∞–±–ª–∏—Ü—ã –≤ –≥–æ—Ç–æ–≤—ã–π –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –≤ Excel —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç (TSV). –ú–æ–¥–µ–ª—å –æ–±—É—á–∞–µ—Ç—Å—è –ø–æ–Ω–∏–º–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü—ã –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ ‚Äî —á—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å, –∞ —á—Ç–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å.

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **End-to-End —Ä–µ—à–µ–Ω–∏–µ**: –ù–∞ –≤—Ö–æ–¥ –ø–æ–¥–∞–µ—Ç—Å—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –Ω–∞ –≤—ã—Ö–æ–¥–µ ‚Äî –≥–æ—Ç–æ–≤–∞—è TSV-—Å—Ç—Ä–æ–∫–∞.
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Donut-style**: –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä–æ–≤ (–≤–∏–∑—É–∞–ª—å–Ω—ã–π —ç–Ω–∫–æ–¥–µ—Ä + —Ç–µ–∫—Å—Ç–æ–≤—ã–π –¥–µ–∫–æ–¥–µ—Ä), –Ω–µ —Ç—Ä–µ–±—É—é—â–∏–π –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —ç—Ç–∞–ø–æ–≤ OCR.
- **–ö–∞—Å—Ç–æ–º–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å**: –°–ª–æ–≤–∞—Ä—å —Ç–æ–∫–µ–Ω–æ–≤ –∂–µ—Å—Ç–∫–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω —Ü–∏—Ñ—Ä–∞–º–∏, –Ω—É–∂–Ω—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏ –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏ (`<ROW>`, `<COL>`, `<SKIP>`), —á—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç "–≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–∏" –º–æ–¥–µ–ª–∏.
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±–æ–ª—å—à–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ö–∞–Ω–∏–∑–º —Ä–∞–±–æ—Ç—ã —Å –ø–ª–∏—Ç–∫–∞–º–∏ (—Ç–∞–π–ª–∞–º–∏) –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤—ã—Å–æ–∫–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø–æ–º–µ—â–∞—é—Ç—Å—è –≤ –ø–∞–º—è—Ç—å –≤–∏–¥–µ–æ–∫–∞—Ä—Ç—ã.
- **–ì–∏–±–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞**: –ú–æ–¥–µ–ª—å –æ–±—É—á–∞–µ—Ç—Å—è –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å –∏–ª–∏ –¥–æ–±–∞–≤–ª—è—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö, —Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é —Å–ø–µ—Ü-—Ç–æ–∫–µ–Ω–æ–≤.
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–µ—Ö–Ω–∏–∫–∞ LoRA –¥–ª—è –¥–æ–æ–±—É—á–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –º–∞–ª–æ–π —á–∞—Å—Ç–∏ –º–æ–¥–µ–ª–∏, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–≤–æ–¥–∏—Ç—å fine-tuning –Ω–∞ –≤–∏–¥–µ–æ–∫–∞—Ä—Ç–∞—Ö —Å 8 –ì–ë VRAM.

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
Image-to-TSV/
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ raw/                 # –ò—Å—Ö–æ–¥–Ω—ã–µ —Ñ–æ—Ç–æ –∏ .xls —Ñ–∞–π–ª—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ processed/           # –û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è
‚îÇ       ‚îú‚îÄ‚îÄ images/          # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü
‚îÇ       ‚îî‚îÄ‚îÄ labels/          # .txt —Ñ–∞–π–ª—ã —Å —Ü–µ–ª–µ–≤—ã–º TSV
‚îÇ
‚îú‚îÄ‚îÄ notebooks/               # Jupyter-–Ω–æ—É—Ç–±—É–∫–∏ –¥–ª—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ –∏ –∞–Ω–∞–ª–∏–∑–∞
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ generate_synthetic_data.py # –°–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ .xls
‚îÇ   ‚îú‚îÄ‚îÄ train.py                   # –°–∫—Ä–∏–ø—Ç –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ inference.py               # –°–∫—Ä–∏–ø—Ç –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã
‚îÇ
‚îú‚îÄ‚îÄ models/                  # –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —á–µ–∫–ø–æ–∏–Ω—Ç—ã –∏ LoRA-–∞–¥–∞–ø—Ç–µ—Ä—ã
‚îÇ
‚îú‚îÄ‚îÄ .gitignore               # –§–∞–π–ª –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è –º—É—Å–æ—Ä–∞ –∏–∑ Git
‚îú‚îÄ‚îÄ environment.yml          # –§–∞–π–ª –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è Conda-—Å—Ä–µ–¥—ã
‚îî‚îÄ‚îÄ README.md                # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1.  **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
    ```bash
    git clone <–∞–¥—Ä–µ—Å_–≤–∞—à–µ–≥–æ_—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è>
    cd Image-to-TSV
    ```

2.  **–°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ Conda-—Å—Ä–µ–¥—É:**
    ```bash
    conda env create -f environment.yml
    conda activate image-to-tsv
    ```
    *–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö GPU (NVIDIA/AMD) —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ —Ñ–∞–π–ª–µ `environment.yml`.*

## ‚ö°Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

-   –ü–æ–º–µ—Å—Ç–∏—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Ç–∞–±–ª–∏—Ü –∏ –∏—Å—Ö–æ–¥–Ω—ã–µ `.xls` —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫—É `data/raw/`.
-   –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö:
    ```bash
    python scripts/generate_synthetic_data.py
    ```
-   –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `data/processed/` –ø–æ—è–≤–∏–ª–∏—Å—å –ø–∞–ø–∫–∏ `images` –∏ `labels` —Å –ø–∞—Ä–∞–º–∏ "–∫–∞—Ä—Ç–∏–Ω–∫–∞ + —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª".

### 2. –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏

-   –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—É—á–µ–Ω–∏—è –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `configs/train_config.yaml`).
-   –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±—É—á–µ–Ω–∏–µ:
    ```bash
    python scripts/train.py --config configs/train_config.yaml
    ```
-   –õ—É—á—à–∞—è –º–æ–¥–µ–ª—å –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ –ø–∞–ø–∫–µ `models/`.

### 3. –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ (–ò–Ω—Ñ–µ—Ä–µ–Ω—Å)

-   –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –¥–ª—è –æ–¥–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:
    ```bash
    python scripts/inference.py --model_path models/best_model --image_path data/raw/my_table.jpg
    ```
-   –†–µ–∑—É–ª—å—Ç–∞—Ç (TSV-—Å—Ç—Ä–æ–∫–∞) –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω –≤ –∫–æ–Ω—Å–æ–ª—å.

## üó∫Ô∏è –î–∞–ª—å–Ω–µ–π—à–∏–µ —à–∞–≥–∏

1.  [ ] –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤ (—Ü–∏—Ñ—Ä—ã/—Å–∏–º–≤–æ–ª—ã + –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Å–ª–æ–≤–∞).
2.  [ ] –£—Ç–≤–µ—Ä–¥–∏—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞ TSV.
3.  [ ] –°–æ–±—Ä–∞—Ç—å –ø–µ—Ä–≤—É—é –ø–∞—Ä—Ç–∏—é –¥–∞–Ω–Ω—ã—Ö (50‚Äì100 –ø—Ä–∏–º–µ—Ä–æ–≤).
4.  [ ] –ü—Ä–æ–≤–µ—Å—Ç–∏ –ø—Ä–æ–±–Ω–æ–µ –¥–æ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏.
5.  [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —Ñ–æ—Ç–æ –∏ –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ —É–ª—É—á—à–∞—Ç—å –º–æ–¥–µ–ª—å.